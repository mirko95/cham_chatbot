<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- 
      Basic HTML metadata for the Chameleon AI Chatbot.
      `lang="en"` will be overridden dynamically if embedded in multilingual sites.
    -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chameleon AI Chatbot</title>

    <!-- 
      TailwindCSS via CDN
      - Config customized below to bind Tailwind's primary colors & border radius
        to CSS variables (controlled dynamically by chatbot theme system)
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: 'var(--primary-color, #1F2937)',       // Dynamic primary color
              'primary-focus': 'var(--primary-focus-color, #111827)', // Hover/focus variant
            },
            borderRadius: {
              'sm': 'var(--border-radius-sm, 0.125rem)',
              'DEFAULT': 'var(--border-radius, 0.25rem)',
              'md': 'var(--border-radius-md, 0.375rem)',
              'lg': 'var(--border-radius-lg, 0.5rem)',
              'xl': 'var(--border-radius-xl, 0.75rem)',
              '2xl': 'var(--border-radius-2xl, 1rem)',
              '3xl': 'var(--border-radius-3xl, 1.5rem)',
              'full': '9999px', // Always a circle
            }
          },
        },
      }
    </script>

    <!-- 
      CSS variable injection for fonts
      - The font family can be updated dynamically via theme messages from parent
    -->
    <style>
      :root {
        font-family: var(--font-family);
      }
    </style>

    <!-- 
      Import Map
      - Uses ESM.sh CDN to load React, ReactDOM, and Google GenAI
      - Keeps the app lightweight without bundling heavy node_modules in iframe builds
    -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@^19.1.0",
        "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
        "react/": "https://esm.sh/react@^19.1.0/",
        "@google/genai": "https://esm.sh/@google/genai@^1.11.0"
      }
    }
    </script>

    <!-- Global CSS -->
    <link rel="stylesheet" href="/index.css">
  </head>

  <!-- 
    Body:
    - Tailwind font is dynamically bound to `--font-family`
    - Root div is where React mounts
  -->
  <body class="font-[var(--font-family)]">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <!-- Entry point for React application -->
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
